import{r as _,o as N,n as S,a as i,c as l,b as s,F,d as L,_ as I,e as V,w as A,v as M,f as m,t as d,p as O,g as $}from"./app.8cb31b58.js";import{a as P,V as r}from"./chunks/axios.f0c8b814.js";const U=u=>(O("data-v-33c93ca8"),u=u(),$(),u),j=U(()=>s("h2",{id:"επεισοδια",tabindex:"-1"},[m("Επεισόδια "),s("a",{class:"header-anchor",href:"#επεισοδια","aria-hidden":"true"},"#")],-1)),z={class:"container"},J=["id"],Y=["onUpdate:modelValue","onChange"],q=["src"],G={class:"episode-title"},H={class:"episode-pubDate"},K=["id","onTimeupdate","onEnded"],Q=["src"],R={key:0,class:"episode-description"},W={key:1,class:"episode-description"},X=["onClick"],oe=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"Επεισόδια","slug":"επεισοδια","link":"#επεισοδια","children":[]}],"relativePath":"podcasts.md"}'),Z={name:"podcasts.md"},ee=Object.assign(Z,{setup(u){const h=_([]);_(0);const g=_([]);function v(t){return t.length>100?t.slice(0,100)+"...":t}function D(t){t.showFullDescription=!t.showFullDescription}function k(t){t.listened=!0,r.set(t.guid,!0,"365d")}function y(t){return r.get(t)}function w(t,c){const e=c.target.currentTime;console.log(t),r.set(t.guid+"time",e,"365d")}function T(t){console.log("Ended"),r.remove(t+"time"),this.markAsListened(t)}return N(async()=>{const c=(await P.get("/feed/index.xml")).data,x=new DOMParser().parseFromString(c,"text/xml").getElementsByTagName("item");for(let a=x.length-1;a>=0;a--){const o=x[a],p=o.getElementsByTagName("title")[0].textContent,b=o.getElementsByTagName("description")[0].textContent,E=o.getElementsByTagName("pubDate")[0].textContent,C=o.getElementsByTagName("itunes:image")[0].getAttribute("href"),B=o.getElementsByTagName("enclosure")[0].getAttribute("url"),f=o.getElementsByTagName("guid")[0].textContent;h.value.push({title:p,description:b,pubDate:E,image:C,guid:f,audio:B,showFullDescription:!1,listened:y(f)})}await S(()=>{console.log(),g.value.map((a,o)=>{let p=r.get(a.id);p&&(console.log(a),g.value[o].currentTime=p)})})}),(t,c)=>(i(),l("div",null,[j,s("div",z,[(i(!0),l(F,null,L(h.value,e=>(i(),l("div",null,[s("div",{id:e.guid,class:V(["episode",{listened:!e.listened}])},[A(s("input",{type:"checkbox","onUpdate:modelValue":n=>e.listened=n,onChange:n=>k(e)},null,40,Y),[[M,e.listened]]),m(" Το χω ακούσει "),s("img",{class:"cover-image",src:e.image,alt:"Episode cover"},null,8,q),s("h2",G,d(e.title),1),s("p",H,d(e.pubDate),1),s("audio",{ref_for:!0,ref_key:"audioels",ref:g,id:e.guid+"time",controls:"",onTimeupdate:n=>w(e,n),onEnded:n=>T(e)},[s("source",{src:e.audio,type:"audio/mpeg"},null,8,Q),m(" Your browser does not support the audio element. ")],40,K),e.showFullDescription?(i(),l("p",R,d(e.description),1)):(i(),l("p",W,d(v(e.description)),1)),s("button",{onClick:n=>D(e),class:"show-more-button"},d(e.showFullDescription?"Show less":"Show more"),9,X)],10,J)]))),256))])]))}}),ne=I(ee,[["__scopeId","data-v-33c93ca8"]]);export{oe as __pageData,ne as default};
