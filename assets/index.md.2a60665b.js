import{r as _,o as N,a,c,b as s,F as B,d as C,_ as S,n as T,w as F,v as L,e as h,t as i,p as I,f as V}from"./app.555cea4a.js";import{a as A,V as m}from"./chunks/axios.f0c8b814.js";const O=l=>(I("data-v-3029d902"),l=l(),V(),l),M=O(()=>s("div",{class:"container"},[s("h1",{style:{"font-size":"24pt","font-weight":"500","margin-bottom":"0.6em"}},"Πρόσφατο Επεισόδιο")],-1)),P={class:"container"},$={class:"column"},j=["onUpdate:modelValue","onChange"],z=["src"],U={class:"column"},Y={class:"episode-title"},q={class:"episode-pubDate"},G=["onEnded"],J=["src"],Q={key:0,class:"episode-description"},W={key:1,class:"episode-description"},X=["onClick"],ee=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"ξερωγώ; Podcast","text":null,"tagline":"Πραγματικά, αυτό το podcast είναι θάυμα που υπάρχει, νεα επεισόδια κάθε 1 με 2 εβδομάδες.","actions":[{"theme":"alt","text":"Όλα τα Επεισόδια","link":"/podcasts"},{"theme":"brand","text":"Open Spotify","link":"https://open.spotify.com/show/4Ejd4BXN2EY8gqGTQNDLvW?si=1c95d71826884500"}]}},"headers":[],"relativePath":"index.md"}'),H={name:"index.md"},K=Object.assign(H,{setup(l){const r=_([]);_(0);function g(t){return t.length>100?t.slice(0,100)+"...":t}function x(t){t.showFullDescription=!t.showFullDescription}function f(t){t.listened=!0,m.set(t.guid,!0,"365d")}function v(t){return m.get(t)}function y(t){console.log("Ended"),this.markAsListened(t)}return N(async()=>{const d=(await A.get("/feed/index.xml")).data,p=new DOMParser().parseFromString(d,"text/xml").getElementsByTagName("item"),o=p[p.length-1],D=o.getElementsByTagName("title")[0].textContent,k=o.getElementsByTagName("description")[0].textContent,w=o.getElementsByTagName("pubDate")[0].textContent,E=o.getElementsByTagName("itunes:image")[0].getAttribute("href"),b=o.getElementsByTagName("enclosure")[0].getAttribute("url"),u=o.getElementsByTagName("guid")[0].textContent;r.value.push({title:D,description:k,pubDate:w,image:E,guid:u,audio:b,showFullDescription:!1,listened:v(u)})}),(t,d)=>(a(),c("div",null,[M,s("div",P,[(a(!0),c(B,null,C(r.value,e=>(a(),c("div",{class:T(["episode",{listened:!e.listened}]),key:e.guid},[s("div",$,[F(s("input",{type:"checkbox","onUpdate:modelValue":n=>e.listened=n,onChange:n=>f(e)},null,40,j),[[L,e.listened]]),h(" Το χω ακούσει "),s("img",{class:"cover-image",src:e.image,alt:"Episode cover"},null,8,z)]),s("div",U,[s("h2",Y,i(e.title),1),s("p",q,i(e.pubDate),1),s("audio",{controls:"",onEnded:n=>y(e)},[s("source",{src:e.audio,type:"audio/mpeg"},null,8,J),h(" Your browser does not support the audio element. ")],40,G),e.showFullDescription?(a(),c("p",Q,i(e.description),1)):(a(),c("p",W,i(g(e.description)),1)),s("button",{onClick:n=>x(e),class:"show-more-button"},i(e.showFullDescription?"Show less":"Show more"),9,X)])],2))),128))])]))}}),te=S(K,[["__scopeId","data-v-3029d902"]]);export{ee as __pageData,te as default};
